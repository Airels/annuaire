/*C12*/SET SCHEMA PUBLIC
drop table if exists groups CASCADE 
drop table if exists person CASCADE 
drop table if exists person_group CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table groups (id bigint not null, name varchar(255) not null, primary key (id))
create table person (id bigint not null, birthday date, email varchar(255) not null, first_name varchar(255) not null, last_name varchar(255) not null, password varchar(255) not null, website varchar(255), primary key (id))
create table person_group (id_person bigint not null, id_group bigint not null, primary key (id_group, id_person))
alter table groups add constraint UK_8mf0is8024pqmwjxgldfe54l7 unique (name)
alter table person add constraint UK_fwmwi44u55bo4rvwsv0cln012 unique (email)
alter table person_group add constraint FK5iv74x72qkboiei1c0c3c1ppn foreign key (id_group) references groups
alter table person_group add constraint FK6xko2hf41rgno1v8bx4dxj9tl foreign key (id_person) references person
INSERT INTO PERSON VALUES(1,NULL,'before@each.com','before','each','passwd',NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO GROUPS VALUES(2,'before-each')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
INSERT INTO GROUPS VALUES(3,'grp')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 4
COMMIT
DELETE FROM PERSON WHERE ID=1
COMMIT
DELETE FROM GROUPS WHERE ID=2
COMMIT
INSERT INTO PERSON VALUES(4,NULL,'before@each.com','before','each','passwd',NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 5
COMMIT
INSERT INTO GROUPS VALUES(5,'before-each')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 6
COMMIT
DELETE FROM PERSON WHERE ID=4
INSERT INTO PERSON VALUES(4,NULL,'before@each.com','before','aaa','passwd',NULL)
COMMIT
DELETE FROM PERSON WHERE ID=4
COMMIT
DELETE FROM GROUPS WHERE ID=5
COMMIT
INSERT INTO PERSON VALUES(6,NULL,'before@each.com','before','each','passwd',NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 7
COMMIT
INSERT INTO GROUPS VALUES(7,'before-each')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 8
COMMIT
DELETE FROM PERSON WHERE ID=6
COMMIT
DELETE FROM GROUPS WHERE ID=7
COMMIT
INSERT INTO PERSON VALUES(8,NULL,'before@each.com','before','each','passwd',NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 9
COMMIT
INSERT INTO GROUPS VALUES(9,'before-each')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 10
COMMIT
DELETE FROM GROUPS WHERE ID=9
INSERT INTO GROUPS VALUES(9,'abc')
COMMIT
DELETE FROM PERSON WHERE ID=8
COMMIT
DELETE FROM GROUPS WHERE ID=9
COMMIT
INSERT INTO PERSON VALUES(10,NULL,'before@each.com','before','each','passwd',NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 11
COMMIT
INSERT INTO GROUPS VALUES(11,'before-each')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 12
COMMIT
DELETE FROM GROUPS WHERE ID=11
COMMIT
DELETE FROM PERSON WHERE ID=10
COMMIT
INSERT INTO PERSON VALUES(12,NULL,'before@each.com','before','each','passwd',NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 13
COMMIT
INSERT INTO GROUPS VALUES(13,'before-each')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 14
COMMIT
INSERT INTO PERSON VALUES(14,NULL,'a@b.com','first','last','passwd',NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 15
COMMIT
DELETE FROM PERSON WHERE ID=12
COMMIT
DELETE FROM GROUPS WHERE ID=13
COMMIT
drop table if exists groups CASCADE 
drop table if exists person CASCADE 
drop table if exists person_group CASCADE 
drop sequence hibernate_sequence if exists
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
